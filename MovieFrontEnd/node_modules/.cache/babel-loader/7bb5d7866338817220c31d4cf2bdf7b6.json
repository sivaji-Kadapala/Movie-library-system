{"ast":null,"code":"var _jsxFileName = \"E:\\\\Java-Virtusa\\\\Mock\\\\Mock\\\\MovieFrontEnd\\\\src\\\\components\\\\MovieForm\\\\MovieForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport styled from \"./MovieForm.module.css\";\nimport { addMovie, updateMovie } from \"../../service/MovieService\";\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieForm = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    state\n  } = location;\n  const [movie, setMovie] = useState({\n    name: \"\",\n    director: \"\",\n    laguage: \"\",\n    genre: \"\"\n  });\n  const [formValues, setFormValues] = useState();\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubbmit, serIsSubmit] = useState(false);\n  useEffect(() => {\n    if (state.action === \"update\") {\n      setMovie(state.movie);\n    }\n  }, [state.action, state.movie]);\n\n  const onChangeHandler = e => {\n    setMovie({ ...movie,\n      [e.target.name]: e.target.value\n    });\n    setFormValues({ ...movie,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    setFormErrors(validate(formValues));\n    serIsSubmit(true);\n\n    if (state.action === \"add\") {\n      addMovie(movie).then(reponse => {\n        console.log(reponse);\n        navigate(\"/library\");\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    if (state.action === \"update\") {\n      updateMovie(movie, state.movie.id).then(reponse => {\n        console.log(reponse);\n        navigate(\"/library\");\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  const validate = values => {\n    const errors = {};\n\n    if (!values.name) {\n      errors.name = \"Required name\";\n    }\n\n    if (!values.director) {\n      errors.director = \"Required director\";\n    }\n\n    if (!values.language) {\n      errors.language = \"Required language\";\n    }\n\n    if (!values.genre) {\n      errors.genre = \"Required genre\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styled.movieForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" btn-dark mt-2 pt-2 pb-2\",\n        children: state.action === \"update\" ? \"Update Movie\" : \"Add Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"name\",\n            children: \"Enter Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"name\",\n            placeholder: \"Enter Name\",\n            name: \"name\",\n            onChange: onChangeHandler,\n            value: movie.name && formValues.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formErrors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"director\",\n            children: \"Enter Director\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"director\",\n            placeholder: \"Enter Director\",\n            name: \"director\",\n            onChange: onChangeHandler,\n            value: movie.director && formValues.director\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formErrors.director\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"language\",\n            children: \"Enter Language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"language\",\n            placeholder: \"Enter Language\",\n            name: \"language\",\n            onChange: onChangeHandler,\n            value: movie.language && formValues.laguage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formErrors.laguage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"genre\",\n            children: \"Enter Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"genre\",\n            placeholder: \"Enter Genre\",\n            name: \"genre\",\n            onChange: onChangeHandler,\n            value: movie.genre && formValues.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formErrors.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-primary\",\n          onClick: submitHandler,\n          children: state.action === \"update\" ? \"Update Movie\" : \"Add Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MovieForm, \"qPXxR40NdSNYQA9sQPXAxvCrreg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = MovieForm;\nexport default MovieForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieForm\");","map":{"version":3,"sources":["E:/Java-Virtusa/Mock/Mock/MovieFrontEnd/src/components/MovieForm/MovieForm.jsx"],"names":["React","useState","styled","addMovie","updateMovie","useNavigate","useLocation","useEffect","MovieForm","navigate","location","state","movie","setMovie","name","director","laguage","genre","formValues","setFormValues","formErrors","setFormErrors","isSubbmit","serIsSubmit","action","onChangeHandler","e","target","value","submitHandler","preventDefault","validate","then","reponse","console","log","catch","err","id","values","errors","language","movieForm"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport { useState} from \"react\";\n\nimport styled from \"./MovieForm.module.css\";\n\nimport { addMovie, updateMovie } from \"../../service/MovieService\";\n\nimport { useNavigate , useLocation } from 'react-router-dom';\nimport { useEffect } from \"react\";\n\nconst MovieForm = () => {\n  \n\n    const navigate = useNavigate();\n\n    const location = useLocation();\n    const{state} = location;\n\n\n    const [movie, setMovie] = useState({name:\"\",director:\"\",laguage:\"\",genre:\"\"})\nconst [ formValues,setFormValues]=useState();\nconst [ formErrors,setFormErrors]=useState({});\nconst [isSubbmit,serIsSubmit]=useState(false);\n    useEffect(()=>{\n        if(state.action===\"update\"){\n            setMovie(state.movie)\n        }\n    },[state.action,state.movie])\n\n    const onChangeHandler = (e) =>{\n        setMovie({...movie, [e.target.name]: e.target.value});\n        setFormValues({...movie, [e.target.name]: e.target.value});\n    }\n\n    const submitHandler=(e)=>{\n\n        e.preventDefault();\n        setFormErrors(validate(formValues));\n        serIsSubmit(true);\n      \n        if(state.action===\"add\"){\n        addMovie(movie)\n        .then(reponse=>{\n            console.log(reponse);\n            navigate(\"/library\")\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n        }\n\n        if(state.action===\"update\"){\n            updateMovie(movie, state.movie.id)\n            .then(reponse=>{\n                console.log(reponse);\n                navigate(\"/library\")\n            })\n            .catch(err=>{\n                console.log(err);\n            })\n            }\n\n    }\nconst validate=(values)=>{\nconst errors={};\n\nif(!values.name){\n  errors.name=\"Required name\"\n}\nif(!values.director){\n  errors.director=\"Required director\"\n}\nif(!values.language){\n  errors.language=\"Required language\"\n}\nif(!values.genre){\n  errors.genre=\"Required genre\"\n}\n}\n  return (\n    <React.Fragment>\n        <div className={styled.movieForm}>\n            <div className=\" btn-dark mt-2 pt-2 pb-2\">{state.action===\"update\"?\"Update Movie\": \"Add Movie\"}</div>\n      <form className=\"mb-2\" >\n        \n        <div className=\"form-group\">\n          <label for=\"name\">Enter Name</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"name\"\n            placeholder=\"Enter Name\"\n            name=\"name\"\n            onChange={onChangeHandler}\n            value={movie.name&&formValues.name}\n          />\n          <p>{formErrors.name}</p>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"director\">Enter Director</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"director\"\n            placeholder=\"Enter Director\"\n            name=\"director\"\n            onChange={onChangeHandler}\n            value={movie.director&&formValues.director}\n          />\n           <p>{formErrors.director}</p>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"language\">Enter Language</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"language\"\n            placeholder=\"Enter Language\"\n            name=\"language\"\n            onChange={onChangeHandler}\n            value={movie.language&&formValues.laguage}\n          />\n           <p>{formErrors.laguage}</p>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"genre\">Enter Genre</label>\n          \n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"genre\"\n            placeholder=\"Enter Genre\"\n            name=\"genre\"\n            onChange={onChangeHandler}\n            value={movie.genre&&formValues.genre}\n          />\n           <p>{formErrors.genre}</p>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\" onClick={submitHandler}>\n          {state.action===\"update\"?\"Update Movie\":\"Add Movie\"}\n        </button>\n      </form>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default MovieForm;\n"]},"metadata":{},"sourceType":"module"}